# --- SAFE CLEAN .zshrc ---

# Set PATH safely
export PATH="/usr/local/bin:/opt/homebrew/bin:$HOME/bin:$HOME/.local/bin:$PATH"

# Load Oh My Zsh only if installed
export ZSH="$HOME/.oh-my-zsh"
if [ -f "$ZSH/oh-my-zsh.sh" ]; then
  source $ZSH/oh-my-zsh.sh
fi

# History settings
HISTFILE=~/.zsh_history
HISTSIZE=10000
SAVEHIST=10000
setopt hist_ignore_all_dups share_history

# Aliases
alias ll='ls -lah'
alias gs='git status'
alias python='python3'

# Minimal, clean prompt
PROMPT='%F{cyan}%n@%m%f:%F{yellow}%~%f %# '

# Optional startup directory (comment out if not needed)
# cd ~ 

# Self-healing sources — prevents “file not found” on startup
safe_source() {
  [ -f "$1" ] && source "$1" || echo "⚠️  Skipped missing file: $1"
}

safe_source "$HOME/.oh-my-zsh/oh-my-zsh.sh"
safe_source "/usr/local/share/zsh-autosuggestions/zsh-autosuggestions.zsh"
safe_source "/usr/local/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh"
